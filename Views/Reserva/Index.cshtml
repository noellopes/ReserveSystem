@model IEnumerable<ReserveSystem.Models.ReservaModel>

@{
    ViewData["Title"] = "Agendamentos de Treino";
}

<!-- Título da Página -->
<div class="container my-5">
    <h1 class="text-center my-4 text-dark fw-bold" style="font-family: 'Poppins', sans-serif;">Agendamentos de Treino</h1>

    <!-- Botão para Criar Novo Agendamento -->
    <div class="text-center mb-4">
        <a asp-action="Create" class="btn btn-dark btn-lg rounded-pill px-5 shadow">
            <i class="bi bi-calendar-plus-fill"></i> Adicionar Novo Agendamento
        </a>
    </div>


    <!-- Tabela de Agendamentos -->
    <div class="table-responsive">
        <table class="table table-striped table-bordered shadow-sm">
            <thead class="table-dark">
                <tr>
                    <th scope="col">Dia</th>
                    <th scope="col">Horário</th>
                    <th scope="col">Personal Trainer</th>
                    <th scope="col">Cliente</th>
                    <th scope="col">Ações</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <!-- Exibe apenas o dia formatado -->
                        <td>@item.ReservationDate.ToString("dd/MM/yyyy")</td>

                        <!-- Exibe o horário de início e término -->
                        <td>@item.StartTime.ToString(@"hh\:mm") - @item.EndTime.ToString(@"hh\:mm")</td>

                        <!-- Exibe o nome do Personal Trainer ou "Não atribuído" -->
                        <td>@(item.PersonalTrainer?.Name ?? "Não atribuído")</td>

                        <!-- Exibe o nome do Cliente ou "Não atribuído" -->
                        <td>@(item.Client?.Name ?? "Não atribuído")</td>

                        <!-- Ações -->
                        <td class="text-center">
                            <!-- Botão Eliminar -->
                            <a href="@Url.Action("Delete", "Reserva", new { id = item.Id })" class="btn btn-danger btn-sm shadow" title="Eliminar">
                                <i class="bi bi-trash"></i> Eliminar
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- Script de ícones Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.min.js"></script>
